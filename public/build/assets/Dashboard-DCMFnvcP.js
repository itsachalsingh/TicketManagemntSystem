import{r as u,j as e,H as h,L as d}from"./app-CmKVqBY_.js";import{A as j}from"./AdminLayout-547HgU7n.js";import"./Dropdown-Umnt_gh2.js";import"./transition-DLr6TU6a.js";function y({tickets:l,latestTickets:t,newUsersCount:a,totalTickets:i,ticketStats:c,priorityStats:o}){const[n,g]=u.useState(""),x=l.filter(s=>s.ticket_number.toLowerCase().includes(n.toLowerCase()));return e.jsxs(j,{children:[e.jsx(h,{title:"Dashboard"}),e.jsx("div",{className:"py-8 bg-gray-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-10",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(r,{title:"New Users Today",count:a,color:"indigo"}),e.jsx(r,{title:"Total Tickets",count:i,color:"blue"}),e.jsx(r,{title:"Pending Tickets",count:c.pending,color:"yellow"}),e.jsx(r,{title:"Resolved Tickets",count:c.resolved,color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx(r,{title:"High Priority",count:o.high,color:"red"}),e.jsx(r,{title:"Medium Priority",count:o.medium,color:"orange"}),e.jsx(r,{title:"Low Priority",count:o.low,color:"green"})]}),e.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Search Tickets"}),e.jsx("input",{type:"text",value:n,onChange:s=>g(s.target.value),placeholder:"Enter Ticket Number",className:"border border-gray-300 rounded px-3 py-2 w-full sm:w-64 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),n&&e.jsx(e.Fragment,{children:x.length===0?e.jsxs("p",{className:"text-gray-500 text-sm",children:['No tickets found for "',n,'".']}):e.jsx("ul",{className:"space-y-4",children:x.map(s=>e.jsx("li",{className:"border rounded-lg p-4 hover:shadow-sm transition",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:["#",s.ticket_number]}),e.jsx("h4",{className:"text-md font-semibold",children:s.subject})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{status:s.status}),e.jsx(d,{href:route("tickets.show",s.id),className:"text-sm text-indigo-600 hover:underline",children:"View →"})]})]})},s.id))})})]}),e.jsxs("section",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Latest 5 Tickets"}),e.jsx(d,{href:"/admin/tickets",className:"text-sm text-indigo-600 hover:underline",children:"View All →"})]}),e.jsx("ul",{className:"space-y-4",children:t.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent tickets available."}):t.map(s=>e.jsx("li",{className:"border rounded-md p-4 hover:shadow-sm transition",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["#",s.ticket_number]}),e.jsx("h3",{className:"text-md font-semibold text-gray-800",children:s.subject}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{status:s.status}),e.jsx(d,{href:route("tickets.show",s.id),className:"text-sm text-indigo-600 hover:underline",children:"View →"})]})]})},s.id))})]})]})})]})}function r({title:l,count:t,color:a}){const i={green:"bg-green-100 text-green-800",yellow:"bg-yellow-100 text-yellow-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",gray:"bg-gray-100 text-gray-800",orange:"bg-orange-100 text-orange-800",indigo:"bg-indigo-100 text-indigo-800"};return e.jsxs("div",{className:`rounded-lg p-4 shadow-sm ${i[a]||"bg-gray-100 text-gray-800"}`,children:[e.jsx("h3",{className:"text-sm font-medium",children:l}),e.jsx("p",{className:"text-3xl font-bold",children:t})]})}function m({status:l}){const t={open:"bg-green-100 text-green-700",in_progress:"bg-yellow-100 text-yellow-700",resolved:"bg-blue-100 text-blue-700",pending:"bg-red-100 text-red-700",reopened:"bg-purple-100 text-purple-700",default:"bg-gray-100 text-gray-700"},a=l.replace("_"," "),i=t[l]||t.default;return e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full capitalize ${i}`,children:a})}export{y as default};
